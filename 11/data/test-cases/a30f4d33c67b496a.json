{
  "uid" : "a30f4d33c67b496a",
  "name" : "Get Spending After Update",
  "fullName" : "tests.rest_api.test_spendings_api.TestSpendingsAPI#test_get_spending_after_update",
  "historyId" : "29af1402da704a47aad0b6aa1637f022",
  "time" : {
    "start" : 1756634821136,
    "stop" : 1756634821270,
    "duration" : 134
  },
  "status" : "skipped",
  "statusMessage" : "XFAIL Добавляется один день к дате\n\nAssertionError: assert '2024-06-14' == '2024-06-15'\n  \n  - 2024-06-15\n  ?          ^\n  + 2024-06-14\n  ?          ^",
  "statusTrace" : "self = <tests.rest_api.test_spendings_api.TestSpendingsAPI object at 0x7f45ef1568e0>\nspends_client = <clients.spends_client.SpendsClient object at 0x7f45eed59010>\nspendings_list = [SpendGet(id='3381c8e8-6b9a-490c-94d8-5341981957a6', amount=8631.482, description='Уникальная вещь1', category=Categor...='niffler_qa', archived=False), spendDate='2023-01-11T21:00:00.000+00:00', currency='KZT', username='niffler_qa'), ...]\ndelete_spendings_lock = None\n\n    @allure.story(Story.get_spending)\n    @pytest.mark.xfail(reason=\"Добавляется один день к дате\")\n    def test_get_spending_after_update(\n        self, spends_client: SpendsClient, spendings_list: list[SpendGet], delete_spendings_lock\n    ):\n        spend = random.choice(spendings_list)\n        new_amount = 9999.99\n        new_description = \"Multiple fields updated\"\n        new_date = \"2024-06-15T12:00:00.000Z\"\n        updated_spend = spends_client.update_spending(\n            data=SpendAdd(\n                id=spend.id,\n                amount=new_amount,\n                category=CategoryAdd(name=spend.category.name),\n                currency=spend.currency,\n                description=new_description,\n                spendDate=new_date\n            )\n        )\n        received_spend = spends_client.get_spending_by_id(updated_spend.id)\n        with allure.step(\"Проверка, что получен правильный расход после обновления\"):\n            assert received_spend.id == updated_spend.id\n            assert received_spend.amount == new_amount\n            assert received_spend.category.name == spend.category.name\n            assert received_spend.currency == spend.currency\n            assert received_spend.description == new_description\n>           assert received_spend.spendDate.split(\"T\")[0] == new_date.split(\"T\")[0]\nE           AssertionError: assert '2024-06-14' == '2024-06-15'\nE             \nE             - 2024-06-15\nE             ?          ^\nE             + 2024-06-14\nE             ?          ^\n\ntests/rest_api/test_spendings_api.py:281: AssertionError",
  "flaky" : false,
  "newFailed" : false,
  "beforeStages" : [ {
    "name" : "[S] Spendings Data",
    "time" : {
      "start" : 1756634819254,
      "stop" : 1756634819255,
      "duration" : 1
    },
    "status" : "passed",
    "steps" : [ ],
    "attachments" : [ ],
    "parameters" : [ ],
    "stepsCount" : 0,
    "attachmentsCount" : 0,
    "shouldDisplayMessage" : false,
    "hasContent" : false
  }, {
    "name" : "[S]  Session Faker",
    "time" : {
      "start" : 1756634816091,
      "stop" : 1756634816191,
      "duration" : 100
    },
    "status" : "passed",
    "steps" : [ ],
    "attachments" : [ ],
    "parameters" : [ ],
    "stepsCount" : 0,
    "attachmentsCount" : 0,
    "shouldDisplayMessage" : false,
    "hasContent" : false
  }, {
    "name" : "[S] Client Envs",
    "time" : {
      "start" : 1756634816250,
      "stop" : 1756634816251,
      "duration" : 1
    },
    "status" : "passed",
    "steps" : [ ],
    "attachments" : [ {
      "uid" : "9cb2bccafac80ade",
      "name" : "client_envs.json",
      "source" : "9cb2bccafac80ade.json",
      "type" : "application/json",
      "size" : 66
    } ],
    "parameters" : [ ],
    "stepsCount" : 0,
    "attachmentsCount" : 1,
    "shouldDisplayMessage" : false,
    "hasContent" : true
  }, {
    "name" : "[S] Lock Manager",
    "time" : {
      "start" : 1756634816191,
      "stop" : 1756634816191,
      "duration" : 0
    },
    "status" : "passed",
    "steps" : [ ],
    "attachments" : [ ],
    "parameters" : [ ],
    "stepsCount" : 0,
    "attachmentsCount" : 0,
    "shouldDisplayMessage" : false,
    "hasContent" : false
  }, {
    "name" : "[S] Faker",
    "time" : {
      "start" : 1756634819250,
      "stop" : 1756634819254,
      "duration" : 4
    },
    "status" : "passed",
    "steps" : [ ],
    "attachments" : [ ],
    "parameters" : [ ],
    "stepsCount" : 0,
    "attachmentsCount" : 0,
    "shouldDisplayMessage" : false,
    "hasContent" : false
  }, {
    "name" : "[S] Spends Client",
    "time" : {
      "start" : 1756634817754,
      "stop" : 1756634817754,
      "duration" : 0
    },
    "status" : "passed",
    "steps" : [ ],
    "attachments" : [ ],
    "parameters" : [ ],
    "stepsCount" : 0,
    "attachmentsCount" : 0,
    "shouldDisplayMessage" : false,
    "hasContent" : false
  }, {
    "name" : "[S] Userdata Db",
    "time" : {
      "start" : 1756634816250,
      "stop" : 1756634816250,
      "duration" : 0
    },
    "status" : "passed",
    "steps" : [ ],
    "attachments" : [ ],
    "parameters" : [ ],
    "stepsCount" : 0,
    "attachmentsCount" : 0,
    "shouldDisplayMessage" : false,
    "hasContent" : false
  }, {
    "name" : "[F] Spendings List",
    "time" : {
      "start" : 1756634821080,
      "stop" : 1756634821132,
      "duration" : 52
    },
    "status" : "passed",
    "steps" : [ {
      "name" : "API Получение списка трат",
      "time" : {
        "start" : 1756634821080,
        "stop" : 1756634821132,
        "duration" : 52
      },
      "status" : "passed",
      "steps" : [ {
        "name" : "GET /api/v2/spends/all",
        "time" : {
          "start" : 1756634821087,
          "stop" : 1756634821132,
          "duration" : 45
        },
        "status" : "passed",
        "steps" : [ ],
        "attachments" : [ {
          "uid" : "4aa2c42e66bfc2d2",
          "name" : "Request",
          "source" : "4aa2c42e66bfc2d2.html",
          "type" : "text/html",
          "size" : 3619
        }, {
          "uid" : "7fbea40d3e61df13",
          "name" : "Response json 200",
          "source" : "7fbea40d3e61df13.json",
          "type" : "application/json",
          "size" : 8109
        }, {
          "uid" : "f08fbbc98669a8ba",
          "name" : "Response headers 200",
          "source" : "f08fbbc98669a8ba.json",
          "type" : "application/json",
          "size" : 490
        } ],
        "parameters" : [ ],
        "stepsCount" : 0,
        "attachmentsCount" : 3,
        "shouldDisplayMessage" : false,
        "hasContent" : true
      } ],
      "attachments" : [ ],
      "parameters" : [ ],
      "stepsCount" : 1,
      "attachmentsCount" : 3,
      "shouldDisplayMessage" : false,
      "hasContent" : true
    } ],
    "attachments" : [ ],
    "parameters" : [ ],
    "stepsCount" : 2,
    "attachmentsCount" : 3,
    "shouldDisplayMessage" : false,
    "hasContent" : true
  }, {
    "name" : "[F] Delete Spendings Lock",
    "time" : {
      "start" : 1756634821133,
      "stop" : 1756634821133,
      "duration" : 0
    },
    "status" : "passed",
    "steps" : [ ],
    "attachments" : [ ],
    "parameters" : [ ],
    "stepsCount" : 0,
    "attachmentsCount" : 0,
    "shouldDisplayMessage" : false,
    "hasContent" : false
  }, {
    "name" : "[C] Add Spendings",
    "time" : {
      "start" : 1756634819255,
      "stop" : 1756634819761,
      "duration" : 506
    },
    "status" : "passed",
    "steps" : [ {
      "name" : "API Получение списка трат",
      "time" : {
        "start" : 1756634819255,
        "stop" : 1756634819407,
        "duration" : 152
      },
      "status" : "passed",
      "steps" : [ {
        "name" : "GET /api/v2/spends/all",
        "time" : {
          "start" : 1756634819262,
          "stop" : 1756634819407,
          "duration" : 145
        },
        "status" : "passed",
        "steps" : [ ],
        "attachments" : [ {
          "uid" : "c0c1322db6d105d3",
          "name" : "Request",
          "source" : "c0c1322db6d105d3.html",
          "type" : "text/html",
          "size" : 3619
        }, {
          "uid" : "ee433c1503a4652d",
          "name" : "Response json 200",
          "source" : "ee433c1503a4652d.json",
          "type" : "application/json",
          "size" : 1167
        }, {
          "uid" : "62897d4f716f26a2",
          "name" : "Response headers 200",
          "source" : "62897d4f716f26a2.json",
          "type" : "application/json",
          "size" : 490
        } ],
        "parameters" : [ ],
        "stepsCount" : 0,
        "attachmentsCount" : 3,
        "shouldDisplayMessage" : false,
        "hasContent" : true
      } ],
      "attachments" : [ ],
      "parameters" : [ ],
      "stepsCount" : 1,
      "attachmentsCount" : 3,
      "shouldDisplayMessage" : false,
      "hasContent" : true
    }, {
      "name" : "API Добавление траты",
      "time" : {
        "start" : 1756634819408,
        "stop" : 1756634819465,
        "duration" : 57
      },
      "status" : "passed",
      "steps" : [ {
        "name" : "POST /api/spends/add",
        "time" : {
          "start" : 1756634819417,
          "stop" : 1756634819464,
          "duration" : 47
        },
        "status" : "passed",
        "steps" : [ ],
        "attachments" : [ {
          "uid" : "c616456418f8cdd7",
          "name" : "Request",
          "source" : "c616456418f8cdd7.html",
          "type" : "text/html",
          "size" : 4362
        }, {
          "uid" : "311b46ed721bbf6d",
          "name" : "Response json 201",
          "source" : "311b46ed721bbf6d.json",
          "type" : "application/json",
          "size" : 429
        }, {
          "uid" : "6cb4d039cafce6dc",
          "name" : "Response headers 201",
          "source" : "6cb4d039cafce6dc.json",
          "type" : "application/json",
          "size" : 490
        } ],
        "parameters" : [ ],
        "stepsCount" : 0,
        "attachmentsCount" : 3,
        "shouldDisplayMessage" : false,
        "hasContent" : true
      } ],
      "attachments" : [ ],
      "parameters" : [ {
        "name" : "data",
        "value" : "SpendAdd(id=None, amount=113.0, description='Oil._fc526dd7-d8d5-447d-932e-4f1783a71cfb', category=CategoryAdd(id=None, name='Спорт', username=None, archived=False), spendDate='2007-01-16T07:20:34.000Z', currency='USD', username='niffler_qa')"
      } ],
      "stepsCount" : 1,
      "attachmentsCount" : 3,
      "shouldDisplayMessage" : false,
      "hasContent" : true
    }, {
      "name" : "API Добавление траты",
      "time" : {
        "start" : 1756634819465,
        "stop" : 1756634819509,
        "duration" : 44
      },
      "status" : "passed",
      "steps" : [ {
        "name" : "POST /api/spends/add",
        "time" : {
          "start" : 1756634819473,
          "stop" : 1756634819509,
          "duration" : 36
        },
        "status" : "passed",
        "steps" : [ ],
        "attachments" : [ {
          "uid" : "2838ae7023b98339",
          "name" : "Request",
          "source" : "2838ae7023b98339.html",
          "type" : "text/html",
          "size" : 4417
        }, {
          "uid" : "89da9bf058af36f8",
          "name" : "Response json 201",
          "source" : "89da9bf058af36f8.json",
          "type" : "application/json",
          "size" : 455
        }, {
          "uid" : "e9dc4d6ebfe3e4c3",
          "name" : "Response headers 201",
          "source" : "e9dc4d6ebfe3e4c3.json",
          "type" : "application/json",
          "size" : 490
        } ],
        "parameters" : [ ],
        "stepsCount" : 0,
        "attachmentsCount" : 3,
        "shouldDisplayMessage" : false,
        "hasContent" : true
      } ],
      "attachments" : [ ],
      "parameters" : [ {
        "name" : "data",
        "value" : "SpendAdd(id=None, amount=600.0, description='Wind remain._148e784e-259f-4ca6-98f3-61371f86055c', category=CategoryAdd(id=None, name='Продукты', username=None, archived=False), spendDate='2023-01-12T10:23:17.000Z', currency='KZT', username='niffler_qa')"
      } ],
      "stepsCount" : 1,
      "attachmentsCount" : 3,
      "shouldDisplayMessage" : false,
      "hasContent" : true
    }, {
      "name" : "API Добавление траты",
      "time" : {
        "start" : 1756634819509,
        "stop" : 1756634819559,
        "duration" : 50
      },
      "status" : "passed",
      "steps" : [ {
        "name" : "POST /api/spends/add",
        "time" : {
          "start" : 1756634819518,
          "stop" : 1756634819559,
          "duration" : 41
        },
        "status" : "passed",
        "steps" : [ ],
        "attachments" : [ {
          "uid" : "a675574d53982282",
          "name" : "Request",
          "source" : "a675574d53982282.html",
          "type" : "text/html",
          "size" : 4466
        }, {
          "uid" : "6d94db08a2c3c208",
          "name" : "Response json 201",
          "source" : "6d94db08a2c3c208.json",
          "type" : "application/json",
          "size" : 478
        }, {
          "uid" : "e5ff255d154828e1",
          "name" : "Response headers 201",
          "source" : "e5ff255d154828e1.json",
          "type" : "application/json",
          "size" : 490
        } ],
        "parameters" : [ ],
        "stepsCount" : 0,
        "attachmentsCount" : 3,
        "shouldDisplayMessage" : false,
        "hasContent" : true
      } ],
      "attachments" : [ ],
      "parameters" : [ {
        "name" : "data",
        "value" : "SpendAdd(id=None, amount=506.0, description='Structure entire._7fa8e3fd-b3e0-4583-b104-976c563434d6', category=CategoryAdd(id=None, name='Развлечения', username=None, archived=False), spendDate='2023-12-11T11:45:56.000Z', currency='KZT', username='niffler_qa')"
      } ],
      "stepsCount" : 1,
      "attachmentsCount" : 3,
      "shouldDisplayMessage" : false,
      "hasContent" : true
    }, {
      "name" : "API Добавление траты",
      "time" : {
        "start" : 1756634819559,
        "stop" : 1756634819610,
        "duration" : 51
      },
      "status" : "passed",
      "steps" : [ {
        "name" : "POST /api/spends/add",
        "time" : {
          "start" : 1756634819565,
          "stop" : 1756634819610,
          "duration" : 45
        },
        "status" : "passed",
        "steps" : [ ],
        "attachments" : [ {
          "uid" : "bfac4a0eb6b3dfb4",
          "name" : "Request",
          "source" : "bfac4a0eb6b3dfb4.html",
          "type" : "text/html",
          "size" : 4460
        }, {
          "uid" : "771b5bd4e8c610ef",
          "name" : "Response json 201",
          "source" : "771b5bd4e8c610ef.json",
          "type" : "application/json",
          "size" : 475
        }, {
          "uid" : "c9033856974f1f1c",
          "name" : "Response headers 201",
          "source" : "c9033856974f1f1c.json",
          "type" : "application/json",
          "size" : 490
        } ],
        "parameters" : [ ],
        "stepsCount" : 0,
        "attachmentsCount" : 3,
        "shouldDisplayMessage" : false,
        "hasContent" : true
      } ],
      "attachments" : [ ],
      "parameters" : [ {
        "name" : "data",
        "value" : "SpendAdd(id=None, amount=15.0, description='Listen protect._0ae0d197-9c1f-4b1c-88af-835f31dae456', category=CategoryAdd(id=None, name='Развлечения', username=None, archived=False), spendDate='2016-02-19T01:58:26.000Z', currency='KZT', username='niffler_qa')"
      } ],
      "stepsCount" : 1,
      "attachmentsCount" : 3,
      "shouldDisplayMessage" : false,
      "hasContent" : true
    }, {
      "name" : "API Добавление траты",
      "time" : {
        "start" : 1756634819610,
        "stop" : 1756634819648,
        "duration" : 38
      },
      "status" : "passed",
      "steps" : [ {
        "name" : "POST /api/spends/add",
        "time" : {
          "start" : 1756634819617,
          "stop" : 1756634819648,
          "duration" : 31
        },
        "status" : "passed",
        "steps" : [ ],
        "attachments" : [ {
          "uid" : "f522d111e5b698e7",
          "name" : "Request",
          "source" : "f522d111e5b698e7.html",
          "type" : "text/html",
          "size" : 4413
        }, {
          "uid" : "f17927738915a115",
          "name" : "Response json 201",
          "source" : "f17927738915a115.json",
          "type" : "application/json",
          "size" : 453
        }, {
          "uid" : "78ed87c32c786cd",
          "name" : "Response headers 201",
          "source" : "78ed87c32c786cd.json",
          "type" : "application/json",
          "size" : 490
        } ],
        "parameters" : [ ],
        "stepsCount" : 0,
        "attachmentsCount" : 3,
        "shouldDisplayMessage" : false,
        "hasContent" : true
      } ],
      "attachments" : [ ],
      "parameters" : [ {
        "name" : "data",
        "value" : "SpendAdd(id=None, amount=954.0, description='Thus five._b01c95eb-d405-4c86-9d8f-58316d1e1344', category=CategoryAdd(id=None, name='Продукты', username=None, archived=False), spendDate='2016-05-15T18:58:16.000Z', currency='EUR', username='niffler_qa')"
      } ],
      "stepsCount" : 1,
      "attachmentsCount" : 3,
      "shouldDisplayMessage" : false,
      "hasContent" : true
    }, {
      "name" : "API Добавление траты",
      "time" : {
        "start" : 1756634819648,
        "stop" : 1756634819686,
        "duration" : 38
      },
      "status" : "passed",
      "steps" : [ {
        "name" : "POST /api/spends/add",
        "time" : {
          "start" : 1756634819656,
          "stop" : 1756634819685,
          "duration" : 29
        },
        "status" : "passed",
        "steps" : [ ],
        "attachments" : [ {
          "uid" : "7a3a007757a5ad26",
          "name" : "Request",
          "source" : "7a3a007757a5ad26.html",
          "type" : "text/html",
          "size" : 4442
        }, {
          "uid" : "d7e0a3e20e80e1b",
          "name" : "Response json 201",
          "source" : "d7e0a3e20e80e1b.json",
          "type" : "application/json",
          "size" : 466
        }, {
          "uid" : "db785362c0851979",
          "name" : "Response headers 201",
          "source" : "db785362c0851979.json",
          "type" : "application/json",
          "size" : 490
        } ],
        "parameters" : [ ],
        "stepsCount" : 0,
        "attachmentsCount" : 3,
        "shouldDisplayMessage" : false,
        "hasContent" : true
      } ],
      "attachments" : [ ],
      "parameters" : [ {
        "name" : "data",
        "value" : "SpendAdd(id=None, amount=140.0, description='Name._49260486-8dfc-4d87-911f-5d339b909408', category=CategoryAdd(id=None, name='Развлечения', username=None, archived=False), spendDate='2006-07-27T19:45:48.000Z', currency='KZT', username='niffler_qa')"
      } ],
      "stepsCount" : 1,
      "attachmentsCount" : 3,
      "shouldDisplayMessage" : false,
      "hasContent" : true
    }, {
      "name" : "API Добавление траты",
      "time" : {
        "start" : 1756634819686,
        "stop" : 1756634819714,
        "duration" : 28
      },
      "status" : "passed",
      "steps" : [ {
        "name" : "POST /api/spends/add",
        "time" : {
          "start" : 1756634819692,
          "stop" : 1756634819714,
          "duration" : 22
        },
        "status" : "passed",
        "steps" : [ ],
        "attachments" : [ {
          "uid" : "f9bf227a20b6c63b",
          "name" : "Request",
          "source" : "f9bf227a20b6c63b.html",
          "type" : "text/html",
          "size" : 4374
        }, {
          "uid" : "8099a5db04a2193f",
          "name" : "Response json 201",
          "source" : "8099a5db04a2193f.json",
          "type" : "application/json",
          "size" : 435
        }, {
          "uid" : "a549cad69ddac759",
          "name" : "Response headers 201",
          "source" : "a549cad69ddac759.json",
          "type" : "application/json",
          "size" : 490
        } ],
        "parameters" : [ ],
        "stepsCount" : 0,
        "attachmentsCount" : 3,
        "shouldDisplayMessage" : false,
        "hasContent" : true
      } ],
      "attachments" : [ ],
      "parameters" : [ {
        "name" : "data",
        "value" : "SpendAdd(id=None, amount=868.0, description='Challenge._e176b4e0-b280-4cd0-aba5-9b2d759a51a1', category=CategoryAdd(id=None, name='Спорт', username=None, archived=False), spendDate='2022-06-21T09:40:37.000Z', currency='EUR', username='niffler_qa')"
      } ],
      "stepsCount" : 1,
      "attachmentsCount" : 3,
      "shouldDisplayMessage" : false,
      "hasContent" : true
    }, {
      "name" : "API Добавление траты",
      "time" : {
        "start" : 1756634819715,
        "stop" : 1756634819761,
        "duration" : 46
      },
      "status" : "passed",
      "steps" : [ {
        "name" : "POST /api/spends/add",
        "time" : {
          "start" : 1756634819724,
          "stop" : 1756634819761,
          "duration" : 37
        },
        "status" : "passed",
        "steps" : [ ],
        "attachments" : [ {
          "uid" : "76d0e614093086d2",
          "name" : "Request",
          "source" : "76d0e614093086d2.html",
          "type" : "text/html",
          "size" : 4388
        }, {
          "uid" : "89f60dbb2dc3fab0",
          "name" : "Response json 201",
          "source" : "89f60dbb2dc3fab0.json",
          "type" : "application/json",
          "size" : 442
        }, {
          "uid" : "536b841c85f4d45b",
          "name" : "Response headers 201",
          "source" : "536b841c85f4d45b.json",
          "type" : "application/json",
          "size" : 490
        } ],
        "parameters" : [ ],
        "stepsCount" : 0,
        "attachmentsCount" : 3,
        "shouldDisplayMessage" : false,
        "hasContent" : true
      } ],
      "attachments" : [ ],
      "parameters" : [ {
        "name" : "data",
        "value" : "SpendAdd(id=None, amount=25.0, description='Various scientist._d1e27b33-b59e-4e1a-9096-6a94a8dde1f9', category=CategoryAdd(id=None, name='Спорт', username=None, archived=False), spendDate='2008-05-26T05:41:47.000Z', currency='USD', username='niffler_qa')"
      } ],
      "stepsCount" : 1,
      "attachmentsCount" : 3,
      "shouldDisplayMessage" : false,
      "hasContent" : true
    } ],
    "attachments" : [ ],
    "parameters" : [ ],
    "stepsCount" : 18,
    "attachmentsCount" : 27,
    "shouldDisplayMessage" : false,
    "hasContent" : true
  }, {
    "name" : "[S] Auth Client",
    "time" : {
      "start" : 1756634816752,
      "stop" : 1756634816753,
      "duration" : 1
    },
    "status" : "passed",
    "steps" : [ ],
    "attachments" : [ ],
    "parameters" : [ ],
    "stepsCount" : 0,
    "attachmentsCount" : 0,
    "shouldDisplayMessage" : false,
    "hasContent" : false
  }, {
    "name" : "[S] Token Data",
    "time" : {
      "start" : 1756634816753,
      "stop" : 1756634817754,
      "duration" : 1001
    },
    "status" : "passed",
    "steps" : [ ],
    "attachments" : [ ],
    "parameters" : [ ],
    "stepsCount" : 0,
    "attachmentsCount" : 0,
    "shouldDisplayMessage" : false,
    "hasContent" : false
  }, {
    "name" : "[S] Cleanup",
    "time" : {
      "start" : 1756634816251,
      "stop" : 1756634816752,
      "duration" : 501
    },
    "status" : "passed",
    "steps" : [ ],
    "attachments" : [ ],
    "parameters" : [ ],
    "stepsCount" : 0,
    "attachmentsCount" : 0,
    "shouldDisplayMessage" : false,
    "hasContent" : false
  }, {
    "name" : "[S] Auth Db",
    "time" : {
      "start" : 1756634816249,
      "stop" : 1756634816250,
      "duration" : 1
    },
    "status" : "passed",
    "steps" : [ ],
    "attachments" : [ ],
    "parameters" : [ ],
    "stepsCount" : 0,
    "attachmentsCount" : 0,
    "shouldDisplayMessage" : false,
    "hasContent" : false
  }, {
    "name" : "[S] Spends Db",
    "time" : {
      "start" : 1756634816194,
      "stop" : 1756634816249,
      "duration" : 55
    },
    "status" : "passed",
    "steps" : [ ],
    "attachments" : [ ],
    "parameters" : [ ],
    "stepsCount" : 0,
    "attachmentsCount" : 0,
    "shouldDisplayMessage" : false,
    "hasContent" : false
  }, {
    "name" : "[S] Server Envs",
    "time" : {
      "start" : 1756634816191,
      "stop" : 1756634816194,
      "duration" : 3
    },
    "status" : "passed",
    "steps" : [ ],
    "attachments" : [ {
      "uid" : "761583c96e86037",
      "name" : "server_envs.json",
      "source" : "761583c96e86037.json",
      "type" : "application/json",
      "size" : 582
    } ],
    "parameters" : [ ],
    "stepsCount" : 0,
    "attachmentsCount" : 1,
    "shouldDisplayMessage" : false,
    "hasContent" : true
  } ],
  "testStage" : {
    "status" : "skipped",
    "statusMessage" : "XFAIL Добавляется один день к дате\n\nAssertionError: assert '2024-06-14' == '2024-06-15'\n  \n  - 2024-06-15\n  ?          ^\n  + 2024-06-14\n  ?          ^",
    "statusTrace" : "self = <tests.rest_api.test_spendings_api.TestSpendingsAPI object at 0x7f45ef1568e0>\nspends_client = <clients.spends_client.SpendsClient object at 0x7f45eed59010>\nspendings_list = [SpendGet(id='3381c8e8-6b9a-490c-94d8-5341981957a6', amount=8631.482, description='Уникальная вещь1', category=Categor...='niffler_qa', archived=False), spendDate='2023-01-11T21:00:00.000+00:00', currency='KZT', username='niffler_qa'), ...]\ndelete_spendings_lock = None\n\n    @allure.story(Story.get_spending)\n    @pytest.mark.xfail(reason=\"Добавляется один день к дате\")\n    def test_get_spending_after_update(\n        self, spends_client: SpendsClient, spendings_list: list[SpendGet], delete_spendings_lock\n    ):\n        spend = random.choice(spendings_list)\n        new_amount = 9999.99\n        new_description = \"Multiple fields updated\"\n        new_date = \"2024-06-15T12:00:00.000Z\"\n        updated_spend = spends_client.update_spending(\n            data=SpendAdd(\n                id=spend.id,\n                amount=new_amount,\n                category=CategoryAdd(name=spend.category.name),\n                currency=spend.currency,\n                description=new_description,\n                spendDate=new_date\n            )\n        )\n        received_spend = spends_client.get_spending_by_id(updated_spend.id)\n        with allure.step(\"Проверка, что получен правильный расход после обновления\"):\n            assert received_spend.id == updated_spend.id\n            assert received_spend.amount == new_amount\n            assert received_spend.category.name == spend.category.name\n            assert received_spend.currency == spend.currency\n            assert received_spend.description == new_description\n>           assert received_spend.spendDate.split(\"T\")[0] == new_date.split(\"T\")[0]\nE           AssertionError: assert '2024-06-14' == '2024-06-15'\nE             \nE             - 2024-06-15\nE             ?          ^\nE             + 2024-06-14\nE             ?          ^\n\ntests/rest_api/test_spendings_api.py:281: AssertionError",
    "steps" : [ {
      "name" : "API Редактирование траты",
      "time" : {
        "start" : 1756634821136,
        "stop" : 1756634821208,
        "duration" : 72
      },
      "status" : "passed",
      "steps" : [ {
        "name" : "PATCH /api/spends/edit",
        "time" : {
          "start" : 1756634821146,
          "stop" : 1756634821208,
          "duration" : 62
        },
        "status" : "passed",
        "steps" : [ ],
        "attachments" : [ {
          "uid" : "bd4d88e72b4f6bf7",
          "name" : "Request",
          "source" : "bd4d88e72b4f6bf7.html",
          "type" : "text/html",
          "size" : 4386
        }, {
          "uid" : "439cafa3390cfa85",
          "name" : "Response json 200",
          "source" : "439cafa3390cfa85.json",
          "type" : "application/json",
          "size" : 413
        }, {
          "uid" : "4649e6cbb7c6ee7a",
          "name" : "Response headers 200",
          "source" : "4649e6cbb7c6ee7a.json",
          "type" : "application/json",
          "size" : 490
        } ],
        "parameters" : [ ],
        "stepsCount" : 0,
        "attachmentsCount" : 3,
        "shouldDisplayMessage" : false,
        "hasContent" : true
      } ],
      "attachments" : [ ],
      "parameters" : [ {
        "name" : "data",
        "value" : "SpendAdd(id='3ec818a4-e8f0-4f74-a615-bd85ae2f6b7a', amount=9999.99, description='Multiple fields updated', category=CategoryAdd(id=None, name='Спорт', username=None, archived=False), spendDate='2024-06-15T12:00:00.000Z', currency='USD', username=None)"
      } ],
      "stepsCount" : 1,
      "attachmentsCount" : 3,
      "shouldDisplayMessage" : false,
      "hasContent" : true
    }, {
      "name" : "API Получение траты по ID",
      "time" : {
        "start" : 1756634821209,
        "stop" : 1756634821267,
        "duration" : 58
      },
      "status" : "passed",
      "steps" : [ {
        "name" : "GET /api/spends/3ec818a4-e8f0-4f74-a615-bd85ae2f6b7a",
        "time" : {
          "start" : 1756634821222,
          "stop" : 1756634821267,
          "duration" : 45
        },
        "status" : "passed",
        "steps" : [ ],
        "attachments" : [ {
          "uid" : "75843f8e73497c34",
          "name" : "Request",
          "source" : "75843f8e73497c34.html",
          "type" : "text/html",
          "size" : 3657
        }, {
          "uid" : "65125f9dac7a241b",
          "name" : "Response json 200",
          "source" : "65125f9dac7a241b.json",
          "type" : "application/json",
          "size" : 413
        }, {
          "uid" : "3dc14e6095dc223d",
          "name" : "Response headers 200",
          "source" : "3dc14e6095dc223d.json",
          "type" : "application/json",
          "size" : 490
        } ],
        "parameters" : [ ],
        "stepsCount" : 0,
        "attachmentsCount" : 3,
        "shouldDisplayMessage" : false,
        "hasContent" : true
      } ],
      "attachments" : [ ],
      "parameters" : [ {
        "name" : "id",
        "value" : "'3ec818a4-e8f0-4f74-a615-bd85ae2f6b7a'"
      } ],
      "stepsCount" : 1,
      "attachmentsCount" : 3,
      "shouldDisplayMessage" : false,
      "hasContent" : true
    }, {
      "name" : "Проверка, что получен правильный расход после обновления",
      "time" : {
        "start" : 1756634821267,
        "stop" : 1756634821268,
        "duration" : 1
      },
      "status" : "failed",
      "statusMessage" : "AssertionError: assert '2024-06-14' == '2024-06-15'\n  \n  - 2024-06-15\n  ?          ^\n  + 2024-06-14\n  ?          ^\n",
      "statusTrace" : "  File \"/home/runner/work/niffler-py-st3/niffler-py-st3/niffler-python-tests/tests/rest_api/test_spendings_api.py\", line 281, in test_get_spending_after_update\n    assert received_spend.spendDate.split(\"T\")[0] == new_date.split(\"T\")[0]\n",
      "steps" : [ ],
      "attachments" : [ ],
      "parameters" : [ ],
      "stepsCount" : 0,
      "attachmentsCount" : 0,
      "shouldDisplayMessage" : true,
      "hasContent" : true
    } ],
    "attachments" : [ {
      "uid" : "1aee3feab33bc0f7",
      "name" : "log",
      "source" : "1aee3feab33bc0f7.txt",
      "type" : "text/plain",
      "size" : 368
    } ],
    "parameters" : [ ],
    "stepsCount" : 5,
    "attachmentsCount" : 7,
    "shouldDisplayMessage" : true,
    "hasContent" : true
  },
  "afterStages" : [ {
    "name" : "spends_client::0",
    "time" : {
      "start" : 1756634891541,
      "stop" : 1756634891541,
      "duration" : 0
    },
    "status" : "passed",
    "steps" : [ ],
    "attachments" : [ ],
    "parameters" : [ ],
    "stepsCount" : 0,
    "attachmentsCount" : 0,
    "shouldDisplayMessage" : false,
    "hasContent" : false
  }, {
    "name" : "delete_spendings_lock::0",
    "time" : {
      "start" : 1756634821402,
      "stop" : 1756634821402,
      "duration" : 0
    },
    "status" : "passed",
    "steps" : [ ],
    "attachments" : [ ],
    "parameters" : [ ],
    "stepsCount" : 0,
    "attachmentsCount" : 0,
    "shouldDisplayMessage" : false,
    "hasContent" : false
  }, {
    "name" : "add_spendings::0",
    "time" : {
      "start" : 1756634821805,
      "stop" : 1756634821805,
      "duration" : 0
    },
    "status" : "passed",
    "steps" : [ ],
    "attachments" : [ ],
    "parameters" : [ ],
    "stepsCount" : 0,
    "attachmentsCount" : 0,
    "shouldDisplayMessage" : false,
    "hasContent" : false
  }, {
    "name" : "auth_client::0",
    "time" : {
      "start" : 1756634891543,
      "stop" : 1756634891543,
      "duration" : 0
    },
    "status" : "passed",
    "steps" : [ ],
    "attachments" : [ ],
    "parameters" : [ ],
    "stepsCount" : 0,
    "attachmentsCount" : 0,
    "shouldDisplayMessage" : false,
    "hasContent" : false
  }, {
    "name" : "token_data::0",
    "time" : {
      "start" : 1756634891541,
      "stop" : 1756634891542,
      "duration" : 1
    },
    "status" : "passed",
    "steps" : [ ],
    "attachments" : [ ],
    "parameters" : [ ],
    "stepsCount" : 0,
    "attachmentsCount" : 0,
    "shouldDisplayMessage" : false,
    "hasContent" : false
  }, {
    "name" : "cleanup::0",
    "time" : {
      "start" : 1756634891544,
      "stop" : 1756634891544,
      "duration" : 0
    },
    "status" : "passed",
    "steps" : [ ],
    "attachments" : [ ],
    "parameters" : [ ],
    "stepsCount" : 0,
    "attachmentsCount" : 0,
    "shouldDisplayMessage" : false,
    "hasContent" : false
  } ],
  "labels" : [ {
    "name" : "story",
    "value" : "Get spendings"
  }, {
    "name" : "feature",
    "value" : "Spendings"
  }, {
    "name" : "tag",
    "value" : "@pytest.mark.xfail(reason='Добавляется один день к дате')"
  }, {
    "name" : "tag",
    "value" : "spendings"
  }, {
    "name" : "tag",
    "value" : "api"
  }, {
    "name" : "host",
    "value" : "pkrvmccyg1gnepe"
  }, {
    "name" : "thread",
    "value" : "6969-MainThread"
  }, {
    "name" : "framework",
    "value" : "pytest"
  }, {
    "name" : "language",
    "value" : "cpython3"
  }, {
    "name" : "package",
    "value" : "tests.rest_api.test_spendings_api"
  }, {
    "name" : "resultFormat",
    "value" : "allure2"
  } ],
  "parameters" : [ ],
  "links" : [ ],
  "hidden" : false,
  "retry" : false,
  "extra" : {
    "severity" : "normal",
    "retries" : [ ],
    "categories" : [ ],
    "history" : {
      "statistic" : {
        "failed" : 0,
        "broken" : 0,
        "skipped" : 3,
        "passed" : 0,
        "unknown" : 0,
        "total" : 3
      },
      "items" : [ {
        "uid" : "f4ebbb71cf1dcc9e",
        "reportUrl" : "https://illusionx11.github.io/niffler-py-st3/10/#testresult/f4ebbb71cf1dcc9e",
        "status" : "skipped",
        "statusDetails" : "XFAIL Добавляется один день к дате\n\nAssertionError: assert '2024-06-14' == '2024-06-15'\n  \n  - 2024-06-15\n  ?          ^\n  + 2024-06-14\n  ?          ^",
        "time" : {
          "start" : 1756580104959,
          "stop" : 1756580105064,
          "duration" : 105
        }
      }, {
        "uid" : "2d3726fdaabb29be",
        "reportUrl" : "https://illusionx11.github.io/niffler-py-st3/9/#testresult/2d3726fdaabb29be",
        "status" : "skipped",
        "statusDetails" : "XFAIL Добавляется один день к дате\n\nAssertionError: assert '2024-06-14' == '2024-06-15'\n  \n  - 2024-06-15\n  ?          ^\n  + 2024-06-14\n  ?          ^",
        "time" : {
          "start" : 1755396904001,
          "stop" : 1755396904056,
          "duration" : 55
        }
      } ]
    },
    "tags" : [ "spendings", "@pytest.mark.xfail(reason='Добавляется один день к дате')", "api" ]
  },
  "source" : "a30f4d33c67b496a.json",
  "parameterValues" : [ ]
}